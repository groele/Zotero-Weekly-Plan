# UI优化测试指南

## 🧪 测试清单

### 1. 窗口尺寸测试

#### 超小窗口 (< 480px)

- [ ] 打开插件窗口并调整到 400x600 像素
- [ ] 检查所有按钮是否可见且可点击
- [ ] 验证文字是否可读（字体不会太小）
- [ ] 确认列可以水平滚动
- [ ] 检查用户卡片是否正确垂直布局
- [ ] 统计面板应该是 2x3 网格

#### 小窗口 (480px - 768px)

- [ ] 调整窗口到 600x800 像素
- [ ] 头部信息应该垂直排列
- [ ] 搜索框应该占满整行
- [ ] 所有文字清晰可读
- [ ] 列宽度自适应良好

#### 中等窗口 (768px - 1200px)

- [ ] 调整窗口到 900x700 像素
- [ ] 统计面板应该是 3列布局
- [ ] 头部信息水平排列
- [ ] 列宽度均匀分布
- [ ] 间距舒适

#### 大窗口 (1200px - 1400px)

- [ ] 调整窗口到 1300x900 像素
- [ ] 布局宽敞舒适
- [ ] 所有4列可见
- [ ] 元素不过分拉伸

#### 超大窗口 (> 1400px)

- [ ] 调整窗口到 1600x1000 像素
- [ ] 统计面板应该是 6列布局
- [ ] 列最大宽度限制生效
- [ ] 间距和内边距增加
- [ ] 视觉效果最佳

### 2. 功能测试

#### 响应式元素

- [ ] 用户头像在不同尺寸下正确缩放
- [ ] 按钮在小屏幕上不会过小
- [ ] 输入框高度适中，易于点击
- [ ] 时钟和日期显示完整

#### 滚动测试

- [ ] 列内独立滚动正常
- [ ] 看板水平滚动流畅
- [ ] 滚动条显示正确（Webkit 和 Firefox）
- [ ] 滚动条 hover 效果正常

#### 交互测试

- [ ] 拖拽任务功能正常
- [ ] 拖拽时视觉反馈清晰
- [ ] hover 效果流畅
- [ ] 按钮点击反馈明显
- [ ] 模态框显示正确，可滚动

### 3. 视觉测试

#### 间距和对齐

- [ ] 所有元素间距一致
- [ ] 卡片边距合理
- [ ] 文字对齐正确
- [ ] 按钮大小协调

#### 颜色和主题

- [ ] 浅色模式显示正常
- [ ] 深色模式显示正常
- [ ] 主题切换平滑
- [ ] 阴影效果适中

#### 动画和过渡

- [ ] hover 动画流畅
- [ ] 拖拽动画自然
- [ ] 添加任务的滑入动画正常
- [ ] 模态框弹出动画流畅

### 4. 边界情况测试

#### 内容测试

- [ ] 空列表显示空状态提示
- [ ] 长任务文本正确换行
- [ ] 大量任务时滚动正常
- [ ] 任务标签正确显示

#### 极端尺寸

- [ ] 窗口最小化到 320x480 仍可用
- [ ] 窗口最大化到 2560x1440 显示正常
- [ ] 垂直方向压缩时滚动正常
- [ ] 水平方向压缩时列横向滚动

### 5. 浏览器兼容性（如适用）

- [ ] Firefox: 滚动条细化样式生效
- [ ] Chrome/Edge: Webkit 滚动条样式正确
- [ ] 所有浏览器的 clamp() 函数正常工作

## 🎯 快速测试步骤

### 方法 1: 手动调整窗口

1. 构建并安装插件：`npm run build`
2. 在 Zotero 中打开周计划窗口
3. 拖动窗口边缘，观察布局变化
4. 检查各个断点的表现

### 方法 2: 浏览器开发者工具（如果在HTML中测试）

1. 打开 `weekplan.html`
2. 按 F12 打开开发者工具
3. 点击设备工具栏图标（Ctrl+Shift+M）
4. 选择不同的设备尺寸
5. 或手动输入尺寸进行测试

## ✅ 预期结果

### 小窗口 (< 768px)

```
┌─────────────────────────┐
│   👤 用户卡片 (垂直)   │
├─────────────────────────┤
│   📊 标题              │
│   🕐 时间 | 🌓 主题    │
├─────────────────────────┤
│   🔍 搜索框 (全宽)     │
│   📈 统计按钮          │
├─────────────────────────┤
│   📊📊 (2x3 统计)      │
├─────────────────────────┤
│ [列1] [列2] →滚动      │
│                         │
│                         │
└─────────────────────────┘
```

### 大窗口 (> 1400px)

```
┌───────────────────────────────────────────────┐
│  👤 用户信息 | 📊📊📊📊📊📊 (6列统计)      │
├───────────────────────────────────────────────┤
│  📊 周任务看板         🕐 时间 | 周控制 | 🌓 │
├───────────────────────────────────────────────┤
│  🔍 搜索框                        📈 统计    │
├───────────────────────────────────────────────┤
│  [规划列] [待做列] [正在做列] [完成列]      │
│    ↓        ↓         ↓         ↓            │
│  [任务1]  [任务1]   [任务1]   [任务1]       │
│  [任务2]  [任务2]   [任务2]   [任务2]       │
│    ...      ...       ...       ...          │
└───────────────────────────────────────────────┘
```

## 🐛 常见问题排查

### 问题: 文字太小看不清

- **原因**: 窗口尺寸过小
- **解决**: 调整窗口到至少 480x600 像素

### 问题: 列宽不均匀

- **原因**: flex 布局未正确应用
- **解决**: 清除缓存重新加载

### 问题: 滚动条不显示

- **原因**: 内容未溢出或浏览器设置
- **解决**: 添加更多任务或检查系统设置

### 问题: 动画卡顿

- **原因**: 硬件加速未启用
- **解决**: 启用浏览器硬件加速

## 📝 测试报告模板

```markdown
## UI优化测试报告

**测试日期**: **\_\_\_\_**
**测试环境**: **\_\_\_\_**
**Zotero版本**: **\_\_\_\_**

### 窗口尺寸测试

- [ ] 超小窗口 (< 480px): ✅/❌ 备注:****\_\_****
- [ ] 小窗口 (768px): ✅/❌ 备注:****\_\_****
- [ ] 中等窗口 (1200px): ✅/❌ 备注:****\_\_****
- [ ] 大窗口 (1400px): ✅/❌ 备注:****\_\_****
- [ ] 超大窗口 (> 1920px): ✅/❌ 备注:****\_\_****

### 功能测试

- [ ] 拖拽功能: ✅/❌
- [ ] 滚动功能: ✅/❌
- [ ] 主题切换: ✅/❌
- [ ] 搜索功能: ✅/❌

### 视觉效果

- [ ] 间距协调: ✅/❌
- [ ] 动画流畅: ✅/❌
- [ ] 颜色正确: ✅/❌

### 发现的问题

1. ***
2. ***

### 总体评价

⭐⭐⭐⭐⭐ (1-5星)
```

---

**测试时间建议**: 15-20分钟  
**关键测试点**: 窗口调整、滚动、拖拽、主题切换
